<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ResBoardMapper">
    <!-- Board List -->
    <select id="boardList" resultType="ResBoardDTO">
        SELECT *
        FROM m_resboard
        ORDER BY r_id DESC;
    </select>

    <!-- SELECT Board -->
    <select id="boardSelect" resultType="ResBoardDTO">
        SELECT *
        FROM m_resboard
        WHERE r_id = #{r_id };
    </select>

    <!-- INSERT Board -->
    <insert id="boardInsert">
        INSERT INTO m_resboard(r_uid, r_sub, r_name, r_address, r_contents)
        VALUES (#{r_uid }, #{r_sub }, #{r_name }, #{r_address }, #{r_contents });
    </insert>

    <!-- Delete Board -->
    <delete id="boardDelete">
        DELETE FROM m_resboard
        WHERE r_id = #{r_id };

        SET @count = 0;
        UPDATE m_resboard SET r_id = @count:= @count + 1;
    </delete>
</mapper>